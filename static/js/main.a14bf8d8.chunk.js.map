{"version":3,"sources":["logo.svg","notes.js","keysToNotes.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","notes","C0","Db0","D0","Eb0","E0","F0","Gb0","G0","Ab0","A0","Bb0","B0","C1","Db1","D1","Eb1","E1","F1","Gb1","G1","Ab1","A1","Bb1","B1","C2","Db2","D2","Eb2","E2","F2","Gb2","G2","Ab2","A2","Bb2","B2","C3","Db3","D3","Eb3","E3","F3","Gb3","G3","Ab3","A3","Bb3","B3","C4","Db4","D4","Eb4","E4","F4","Gb4","G4","Ab4","A4","Bb4","B4","C5","Db5","D5","Eb5","E5","F5","Gb5","G5","Ab5","A5","Bb5","B5","C6","Db6","D6","Eb6","E6","F6","Gb6","G6","Ab6","A6","Bb6","B6","C7","Db7","D7","Eb7","E7","F7","Gb7","G7","Ab7","A7","Bb7","B7","keysToNotes","App","state","octave","value","notesPlaying","isArrowUp","isArrowDown","this","audioContext","AudioContext","masterGain","createGain","connect","destination","gain","setTargetAtTime","currentTime","window","addEventListener","e","key","toLowerCase","console","log","pitchDecrease","setInterval","forEach","notePlaying","oscillator","frequency","pitchIncrease","Object","keys","includes","isNotePlaying","startTime","keyNote","startsWith","slice","endsWith","note","freq","createOscillator","gainNode","type","start","push","playNote","clearInterval","index","filter","_","i","style","width","height","background","min","max","step","volume","onChange","setState","target","Component","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.a14bf8d8.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.25bf045c.svg\";","export const notes = {\n  C0: 16.351, Db0: 17.324, D0: 18.354, Eb0: 19.445, E0: 20.601, F0: 21.827, Gb0: 23.124, G0: 24.499, Ab0: 25.956, A0: 27.5, Bb0: 29.135, B0: 30.868,\n  C1: 32.703, Db1: 34.648, D1: 36.708, Eb1: 38.891, E1: 41.203, F1: 43.654, Gb1: 46.249, G1: 48.999, Ab1: 51.913, A1: 55, Bb1: 58.27, B1: 61.735,\n  C2: 65.406, Db2: 69.296, D2: 73.416, Eb2: 77.782, E2: 82.407, F2: 87.307, Gb2: 92.499, G2: 97.999, Ab2: 103.826, A2: 110, Bb2: 116.541, B2: 123.471,\n  C3: 130.813, Db3: 138.591, D3: 146.832, Eb3: 155.563, E3: 164.814, F3: 174.614, Gb3: 184.997, G3: 195.998, Ab3: 207.652, A3: 220, Bb3: 233.082, B3: 246.942,\n  C4: 261.626, Db4: 277.183, D4: 293.665, Eb4: 311.127, E4: 329.628, F4: 349.228, Gb4: 369.994, G4: 391.995, Ab4: 415.305, A4: 440, Bb4: 466.164, B4: 493.883,\n  C5: 523.251, Db5: 554.365, D5: 587.33, Eb5: 622.254, E5: 659.255, F5: 698.456, Gb5: 739.989, G5: 783.991, Ab5: 830.609, A5: 880, Bb5: 932.328, B5: 987.767,\n  C6: 1046.502, Db6: 1108.731, D6: 1174.659, Eb6: 1244.508, E6: 1318.51, F6: 1396.913, Gb6: 1479.978, G6: 1567.982, Ab6: 1661.219, A6: 1760, Bb6: 1864.655, B6: 1975.533,\n  C7: 2093.005, Db7: 2217.461, D7: 2349.318, Eb7: 2489.016, E7: 2637.021, F7: 2793.826, Gb7: 2959.955, G7: 3135.964, Ab7: 3322.438, A7: 3520, Bb7: 3729.31, B7: 3951.066\n};\n","const keysToNotes = {\n  \"q\": \"C\",\n  \",\": \"C\",\n  \"2\": \"Db\",\n  \"l\": \"Db\",\n  \"w\": \"D\",\n  \".\": \"D\",\n  \"3\": \"Eb\",\n  \";\": \"Eb\",\n  \"e\": \"E\",\n  \"/\": \"E\",\n  \"r\": \"F\",\n  \"5\": \"Gb\",\n  \"t\": \"G\",\n  \"6\": \"Ab\",\n  \"y\": \"A\",\n  \"7\": \"Bb\",\n  \"u\": \"B\",\n  \"z\": \"`C\",\n  \"s\": \"`Db\",\n  \"x\": \"`D\",\n  \"d\": \"`Eb\",\n  \"c\": \"`E\",\n  \"v\": \"`F\",\n  \"g\": \"`Gb\",\n  \"b\": \"`G\",\n  \"h\": \"`Ab\",\n  \"n\": \"`A\",\n  \"j\": \"`Bb\",\n  \"m\": \"`B\",\n  \"i\": \"C`\",\n  \"9\": \"Db`\",\n  \"o\": \"D`\",\n  \"0\": \"Eb`\",\n  \"p\": \"E`\",\n  \"[\": \"F`\",\n  \"=\": \"Gb`\",\n  \"]\": \"G`\",\n}\n\nexport default keysToNotes\n","import React, { Component } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\nimport { notes } from './notes';\nimport keysToNotes from './keysToNotes'\n\nclass App extends Component {\n  state = {\n    octave: 5,\n    value: 40\n  }\n\n\n  notesPlaying = []\n\n  isArrowUp = false\n  isArrowDown = false\n\n  componentDidMount() {\n    this.audioContext = new AudioContext();\n    this.masterGain = this.audioContext.createGain();\n    const { masterGain, audioContext } = this\n    masterGain.connect(audioContext.destination);\n    masterGain.gain.setTargetAtTime(0.2, audioContext.currentTime, 0.001);\n\n    const  playNote = (startTime, key) => {\n      let octave = this.state.octave\n      let keyNote = keysToNotes[key]\n      if (keyNote.startsWith('`')) {\n        keyNote = keyNote.slice(1)\n        octave = octave - 1\n      }\n\n      if (keyNote.endsWith('`')) {\n        keyNote = keyNote.slice(0, -1)\n        octave = octave + 1\n      }\n      const note =  keyNote + octave\n      const freq = notes[note]\n      console.log('playing note', note)\n      const oscillator = audioContext.createOscillator();\n      const gainNode = audioContext.createGain();\n      oscillator.connect(gainNode);\n      gainNode.connect(masterGain);\n\n      oscillator.frequency.value = freq;\n      oscillator.type = 'triangle';\n      oscillator.start(startTime);\n      this.notesPlaying.push({\n        key: key,\n        note: note,\n        oscillator,\n        gainNode\n      })\n    }\n\n    window.addEventListener('keydown', e => {\n      const key = e.key.toLowerCase()\n      console.log('keydown', key)\n\n      if (key === 'arrowdown' && !this.isArrowDown) {\n        this.isArrowDown = true\n        this.pitchDecrease = setInterval(() => {\n          this.notesPlaying.forEach(notePlaying => {\n            notePlaying.oscillator.frequency.value -= 10\n          })\n        }, 100)\n      }\n      if (key === 'arrowup' && !this.isArrowUp) {\n        this.isArrowUp = true\n        console.log('freq..doom doom', this.isArrowUp)\n        this.pitchIncrease = setInterval(() => {\n          this.notesPlaying.forEach(notePlaying => {\n            console.log('freq..dancee')\n            notePlaying.oscillator.frequency.value += 10\n          })\n        }, 100)\n      }\n\n\n      if (!Object.keys(keysToNotes).includes(key)) return null\n\n      let isNotePlaying = false\n      for (const notePlaying of this.notesPlaying) {\n        if (notePlaying.key === key) {\n          isNotePlaying = true\n        }\n      }\n\n      if (!isNotePlaying) {\n        playNote(audioContext.currentTime, key)\n      }\n    })\n\n\n    window.addEventListener('keyup', e => {\n      const key = e.key.toLowerCase()\n      console.log('keyup', key)\n\n      if (key === 'arrowdown') {\n        this.isArrowDown = false\n        clearInterval(this.pitchDecrease)\n      }\n      if (key === 'arrowup') {\n        this.isArrowUp = false\n        clearInterval(this.pitchIncrease)\n      }\n\n      if (!Object.keys(keysToNotes).includes(key)) return null\n\n      this.notesPlaying.forEach((notePlaying, index) => {\n        if (notePlaying.key === key) {\n          notePlaying.gainNode.gain.setTargetAtTime(0, audioContext.currentTime, 0.3);\n          console.log('stoping note', notePlaying.note)\n          this.notesPlaying = this.notesPlaying.filter((_, i) =>  i !== index)\n        }\n      })\n      console.log(this.notesPlaying)\n    })\n  }\n  render() {\n    return (\n      <div style={{ width: '100vw', height: '100vh', background: '#ee9090' }}>\n        <input type=\"range\" min=\"0\" max=\"100\" step=\"1\" value={this.state.volume} onChange={(e) => {\n          this.setState({ value: e.target.value })\n          this.masterGain.gain.setTargetAtTime(e.target.value / 100, this.audioContext.currentTime, 0.001);\n        }} />\n      </div>\n    )\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}